return function(){function a(a){for(n=o.shift();n--;)a.push(o.shift())}function b(a){for(var b=0;a&&a!=document.body;)b+=a.offsetLeft,a=a.offsetParent;return b}function c(a){for(var b=0;a&&a!=document.body;)b+=a.offsetTop,a=a.offsetParent;return b}function d(a){if(!a||"undefined"==typeof a.offsetWidth)return-1;for(var b=a.offsetWidth-1;a&&a!=document.body;)b+=a.offsetLeft,a=a.offsetParent;return b}function e(a){if(!a||"undefined"==typeof a.offsetHeight)return-1;for(var b=a.offsetHeight-1;a&&a!=document.body;)b+=a.offsetTop,a=a.offsetParent;return b}function f(a,c){var e=b(c)<=d(a)&&b(a)<=d(c);return e}function g(a,b){var d=c(b)<=e(a)&&c(a)<=e(b);return d}var h,i,j,k,l,m,n,o,p=[],q=[],r=[],s=[],t=[];for(o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);for(a(p),a(r),a(q),a(s),a(t),l=t.length-1;l>=0;l--)for(m=0;m<p.length;m++)e(t[l])>=c(p[m])&&t.splice(l,1);for(p.length&&(h=c(p[0]),j=b(p[0]),t.sort(function(a,c){var d=f(p[0],a),g=f(p[0],c);return d&&g?Math.abs(h-e(a))-Math.abs(h-e(c)):d&&!g?-1:!d&&g?1:Math.pow(h-e(a),2)-Math.pow(h-e(c),2)+Math.abs(j-b(a))-Math.abs(j-b(c))})),l=t.length-1;l>=0;l--)for(m=0;m<q.length;m++)c(t[l])<=e(q[m])&&t.splice(l,1);for(q.length&&(i=e(q[0]),j=b(i[0]),t.sort(function(a,d){var e=f(q[0],a),g=f(q[0],d);return e&&g?Math.abs(i-c(a))-Math.abs(i-c(d)):e&&!g?-1:!e&&g?1:Math.pow(i-c(a),2)-Math.pow(i-c(d),2)+Math.abs(j-b(a))-Math.abs(j-b(d))})),l=t.length-1;l>=0;l--)for(m=0;m<r.length;m++)b(t[l])<=d(r[m])&&t.splice(l,1);for(r.length&&(h=c(r[0]),k=d(r[0]),t.sort(function(a,d){var e=g(r[0],a),f=g(r[0],d);return e&&f?Math.abs(k-b(a))-Math.abs(k-b(d)):e&&!f?-1:!e&&f?1:Math.pow(k-b(a),2)-Math.pow(k-b(d),2)+Math.abs(h-c(a))-Math.abs(h-c(d))})),l=t.length-1;l>=0;l--)for(m=0;m<s.length;m++)d(t[l])>=b(s[m])&&t.splice(l,1);return s.length&&(h=c(s[0]),j=b(s[0]),t.sort(function(a,b){var e=g(s[0],a),f=g(s[0],b);return e&&f?Math.abs(j-d(a))-Math.abs(j-d(b)):e&&!f?-1:!e&&f?1:Math.pow(j-d(a),2)-Math.pow(j-d(b),2)+Math.abs(h-c(a))-Math.abs(h-c(b))})),t}.apply(this,arguments);